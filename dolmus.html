<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-PZHNKJSF0L"></script>
  <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-PZHNKJSF0L');</script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="theme-color" content="#0d4d3d">
  <meta name="description" content="Ahmetli - Manisa dolmuş ve otobüs saatleri">
  <meta property="og:title" content="Dolmuş Saatleri - Ahmetli Medya">
  <meta property="og:description" content="Ahmetli - Manisa dolmuş ve otobüs saatleri">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://ahmetlisosyal.com/dolmus.html">
  <title>Dolmuş Saatleri - Ahmetli Medya</title>
  <link rel="canonical" href="https://ahmetlisosyal.com/dolmus.html">
  <link rel="manifest" href="manifest.json">
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Crect width='32' height='32' rx='6' fill='%230d4d3d'/%3E%3Ctext x='16' y='23' text-anchor='middle' font-family='Georgia,serif' font-size='22' font-weight='700' fill='white'%3EA%3C/text%3E%3C/svg%3E">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fraunces:ital,opsz,wght@0,9..144,400;0,9..144,600;0,9..144,700;1,9..144,400&family=Figtree:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <a href="#main-content" class="skip-link">İçeriğe atla</a>

  <div class="top-bar">
    <div class="container top-bar__inner">
      <span class="date" id="currentDate"></span>
      <div class="top-bar__right">
        <button type="button" class="theme-toggle" id="theme-toggle" aria-label="Karanlık mod">&#9790;</button>
        <nav class="top-nav">
          <a href="index.html">Ana Sayfa</a>
        </nav>
      </div>
    </div>
  </div>

  <header class="main-header">
    <div class="main-header__pattern" aria-hidden="true"></div>
    <div class="container main-header__inner">
      <a href="index.html" class="logo">
        <span class="logo__mark" aria-hidden="true">A</span>
        <span class="logo__word logo__word--ahmetli">Ahmetli</span> <span class="logo__word logo__word--medya">Medya</span>
      </a>
    </div>
  </header>

  <nav class="main-nav">
    <div class="container main-nav__inner">
      <ul class="nav-list">
        <li><a href="index.html" class="nav-link">Ana Sayfa</a></li>
        <li><a href="dolmus.html" class="nav-link active">Dolmuş Saatleri</a></li>
      </ul>
    </div>
  </nav>

  <main id="main-content">
    <div class="dolmus-sayfa">
      <h1>Ahmetli - Manisa Dolmuş Saatleri</h1>
      <p class="dolmus-sayfa__aciklama">Ahmetli ile Manisa merkez arası minibüs/dolmuş tahmini kalkış saatleri.</p>

      <div class="dolmus-sonraki" id="dolmus-sonraki" hidden>
        <div class="dolmus-sonraki__yon" id="sonraki-yon"></div>
        <div class="dolmus-sonraki__saat" id="sonraki-saat"></div>
        <div class="dolmus-sonraki__kalan" id="sonraki-kalan"></div>
      </div>

      <h2 style="font-family:var(--font-head);font-size:20px;color:var(--primary);margin:24px 0 12px;">Ahmetli &#10132; Manisa</h2>
      <table class="dolmus-tablo">
        <thead>
          <tr><th>Kalkış</th><th>Tahmini Varış</th><th>Not</th></tr>
        </thead>
        <tbody>
          <tr><td>06:30</td><td>07:20</td><td>İlk sefer</td></tr>
          <tr><td>07:00</td><td>07:50</td><td></td></tr>
          <tr><td>07:30</td><td>08:20</td><td></td></tr>
          <tr><td>08:00</td><td>08:50</td><td></td></tr>
          <tr><td>08:30</td><td>09:20</td><td></td></tr>
          <tr><td>09:00</td><td>09:50</td><td></td></tr>
          <tr><td>09:30</td><td>10:20</td><td></td></tr>
          <tr><td>10:00</td><td>10:50</td><td></td></tr>
          <tr><td>10:30</td><td>11:20</td><td></td></tr>
          <tr><td>11:00</td><td>11:50</td><td></td></tr>
          <tr><td>12:00</td><td>12:50</td><td></td></tr>
          <tr><td>13:00</td><td>13:50</td><td></td></tr>
          <tr><td>14:00</td><td>14:50</td><td></td></tr>
          <tr><td>15:00</td><td>15:50</td><td></td></tr>
          <tr><td>16:00</td><td>16:50</td><td></td></tr>
          <tr><td>17:00</td><td>17:50</td><td></td></tr>
          <tr><td>18:00</td><td>18:50</td><td>Son sefer</td></tr>
        </tbody>
      </table>

      <h2 style="font-family:var(--font-head);font-size:20px;color:var(--primary);margin:32px 0 12px;">Manisa &#10132; Ahmetli</h2>
      <table class="dolmus-tablo">
        <thead>
          <tr><th>Kalkış</th><th>Tahmini Varış</th><th>Not</th></tr>
        </thead>
        <tbody>
          <tr><td>07:00</td><td>07:50</td><td>İlk sefer</td></tr>
          <tr><td>07:30</td><td>08:20</td><td></td></tr>
          <tr><td>08:00</td><td>08:50</td><td></td></tr>
          <tr><td>08:30</td><td>09:20</td><td></td></tr>
          <tr><td>09:00</td><td>09:50</td><td></td></tr>
          <tr><td>09:30</td><td>10:20</td><td></td></tr>
          <tr><td>10:00</td><td>10:50</td><td></td></tr>
          <tr><td>10:30</td><td>11:20</td><td></td></tr>
          <tr><td>11:00</td><td>11:50</td><td></td></tr>
          <tr><td>12:00</td><td>12:50</td><td></td></tr>
          <tr><td>13:00</td><td>13:50</td><td></td></tr>
          <tr><td>14:00</td><td>14:50</td><td></td></tr>
          <tr><td>15:00</td><td>15:50</td><td></td></tr>
          <tr><td>16:00</td><td>16:50</td><td></td></tr>
          <tr><td>17:00</td><td>17:50</td><td></td></tr>
          <tr><td>18:00</td><td>18:50</td><td></td></tr>
          <tr><td>19:00</td><td>19:50</td><td>Son sefer</td></tr>
        </tbody>
      </table>

      <div class="dolmus-uyari">
        <strong>Not:</strong> Bu saatler tahminidir ve mevsime, yolcu yoğunluğuna göre değişiklik gösterebilir. Kesin bilgi için dolmuş durağından bilgi alınız.
      </div>
    </div>
  </main>

  <footer class="main-footer">
    <div class="container">
      <div class="footer-bottom">
        <p>&copy; <span id="footer-year">2025</span> Ahmetli Medya. Tüm hakları saklıdır.</p>
      </div>
    </div>
  </footer>

  <script>
  (function() {
    // Dark mode
    var saved = localStorage.getItem('ahmetli-theme');
    if (saved === 'dark' || (!saved && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
      document.documentElement.setAttribute('data-theme', 'dark');
    }
    var btn = document.getElementById('theme-toggle');
    if (btn) {
      function u() { var d = document.documentElement.getAttribute('data-theme') === 'dark'; btn.innerHTML = d ? '&#9788;' : '&#9790;'; }
      u();
      btn.addEventListener('click', function() {
        var d = document.documentElement.getAttribute('data-theme') === 'dark';
        if (d) { document.documentElement.removeAttribute('data-theme'); localStorage.setItem('ahmetli-theme', 'light'); }
        else { document.documentElement.setAttribute('data-theme', 'dark'); localStorage.setItem('ahmetli-theme', 'dark'); }
        u();
      });
    }
    // Date + footer year
    var dateEl = document.getElementById('currentDate');
    if (dateEl) dateEl.textContent = new Date().toLocaleDateString('tr-TR', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
    var yrEl = document.getElementById('footer-year');
    if (yrEl) yrEl.textContent = new Date().getFullYear();

    // Sonraki sefer göstergesi + tablo vurgulama
    var ahmetliSaatler = ['06:30','07:00','07:30','08:00','08:30','09:00','09:30','10:00','10:30','11:00','12:00','13:00','14:00','15:00','16:00','17:00','18:00'];
    var manisaSaatler = ['07:00','07:30','08:00','08:30','09:00','09:30','10:00','10:30','11:00','12:00','13:00','14:00','15:00','16:00','17:00','18:00','19:00'];

    function saatDakika(str) {
      var p = str.split(':');
      return parseInt(p[0],10) * 60 + parseInt(p[1],10);
    }

    function guncelleSonraki() {
      var now = new Date();
      var simdi = now.getHours() * 60 + now.getMinutes();
      var sonrakiA = null, sonrakiM = null;

      for (var i = 0; i < ahmetliSaatler.length; i++) {
        if (saatDakika(ahmetliSaatler[i]) > simdi) { sonrakiA = { saat: ahmetliSaatler[i], idx: i }; break; }
      }
      for (var j = 0; j < manisaSaatler.length; j++) {
        if (saatDakika(manisaSaatler[j]) > simdi) { sonrakiM = { saat: manisaSaatler[j], idx: j }; break; }
      }

      // En yakın seferi bul
      var en = null, yon = '';
      if (sonrakiA && sonrakiM) {
        if (saatDakika(sonrakiA.saat) <= saatDakika(sonrakiM.saat)) {
          en = sonrakiA; yon = 'Ahmetli → Manisa';
        } else {
          en = sonrakiM; yon = 'Manisa → Ahmetli';
        }
      } else if (sonrakiA) { en = sonrakiA; yon = 'Ahmetli → Manisa'; }
      else if (sonrakiM) { en = sonrakiM; yon = 'Manisa → Ahmetli'; }

      var kutu = document.getElementById('dolmus-sonraki');
      if (!en) {
        if (kutu) { kutu.hidden = false; document.getElementById('sonraki-yon').textContent = ''; document.getElementById('sonraki-saat').textContent = 'Bugün sefer kalmadı'; document.getElementById('sonraki-kalan').textContent = 'İlk sefer yarın 06:30'; }
        return;
      }

      var kalan = saatDakika(en.saat) - simdi;
      var kalanStr = kalan >= 60 ? Math.floor(kalan/60) + ' saat ' + (kalan%60) + ' dk' : kalan + ' dk';

      if (kutu) {
        kutu.hidden = false;
        document.getElementById('sonraki-yon').textContent = yon;
        document.getElementById('sonraki-saat').textContent = en.saat;
        document.getElementById('sonraki-kalan').textContent = kalanStr + ' kaldı';
      }

      // Tablo satırı vurgulama
      var tablolar = document.querySelectorAll('.dolmus-tablo');
      tablolar.forEach(function(tablo) {
        var rows = tablo.querySelectorAll('tbody tr');
        rows.forEach(function(row) { row.classList.remove('dolmus-tablo__aktif'); });
      });

      if (sonrakiA && tablolar[0]) {
        var rows0 = tablolar[0].querySelectorAll('tbody tr');
        if (rows0[sonrakiA.idx]) rows0[sonrakiA.idx].classList.add('dolmus-tablo__aktif');
      }
      if (sonrakiM && tablolar[1]) {
        var rows1 = tablolar[1].querySelectorAll('tbody tr');
        if (rows1[sonrakiM.idx]) rows1[sonrakiM.idx].classList.add('dolmus-tablo__aktif');
      }
    }

    guncelleSonraki();
    setInterval(guncelleSonraki, 30000);
  })();
  </script>
</body>
</html>
